<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: planningPoker.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: planningPoker.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Crée un joueur
 * @param {string} pseudo
 * @returns {object} Joueur avec pseudo et vote
 */
export function createPlayer(pseudo) {
  if (!pseudo || pseudo.trim() === '') throw new Error("Pseudo invalide");
  return { pseudo, vote: null };
}

/**
 * Définit le nombre de joueurs
 * @param {Array} players
 * @param {number} n
 * @returns {Array} Liste mise à jour
 */
export function defineNumberOfPlayers(players, n) {
  while (players.length &lt; n) players.push({ pseudo: "", vote: null });
  return players.slice(0, n);
}

/**
 * Ajoute un vote pour un joueur
 * @param {object} player
 * @param {number|string} vote
 * @returns {object} Joueur avec vote mis à jour
 */
export function castVote(player, vote) {
  if (vote === null || vote === undefined) throw new Error("Vote invalide");
  return { ...player, vote };
}

/**
 * Calcule estimation selon règle
 * @param {Array&lt;object>} players
 * @param {string} rule - "moyenne" | "mediane" | "stricte"
 * @returns {number|null} Estimation
 */
export function calculateEstimate(players, rule = "moyenne") {
  const votes = players.map(p => p.vote).filter(v => typeof v === "number");
  if (!votes.length) return null;

  if (rule === "moyenne") return votes.reduce((a,b)=>a+b,0)/votes.length;

  if (rule === "mediane") {
    votes.sort((a,b)=>a-b);
    const mid = Math.floor(votes.length/2);
    return votes.length % 2 === 0 ? (votes[mid-1]+votes[mid])/2 : votes[mid];
  }

  if (rule === "stricte") return votes.every(v=>v===votes[0]) ? votes[0] : null;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#calculateEstimate">calculateEstimate</a></li><li><a href="global.html#castVote">castVote</a></li><li><a href="global.html#createPlayer">createPlayer</a></li><li><a href="global.html#defineNumberOfPlayers">defineNumberOfPlayers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Tue Nov 11 2025 19:51:13 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
